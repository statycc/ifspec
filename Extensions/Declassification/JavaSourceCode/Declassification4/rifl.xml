<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE riflspec SYSTEM "../rifl-JavaSourceCode-1.1.dtd">
<riflspec>
  <interfacespec>
		<assignable handle="NameFirstName">
      <source>
        <field class="Name" name="firstName" />
      </source>
    </assignable>
		<assignable handle="NameLastName">
      <source>
        <field class="Name" name="lastName" />
      </source>
    </assignable>
		<assignable handle="FormDataName">
      <source>
        <field class="FormData" name="name" />
      </source>
    </assignable>
		<assignable handle="FormDataCCNr">
      <source>
        <field class="FormData" name="creditCardNr" />
      </source>
    </assignable>
		<assignable handle="FormDataValid">
      <source>
        <field class="FormData" name="validUntil" />
      </source>
    </assignable>
		<assignable handle="parameter">
      <source>
        <parameter class="FormServlet" method="receiveData(FormData)" parameter="1" />
      </source>
    </assignable>
    <assignable handle="first_name">
      <source>
				<path>
					<parameter class="FormServlet" method="receiveData(FormData)" parameter="1" />
					<field class="Name" name="name" />
					<field class="java.lang.String" name="firstName" />
				</path>
      </source>
    </assignable>
    <assignable handle="last_name">
      <source>
				<path>
					<parameter class="FormServlet" method="receiveData(FormData)" parameter="1" />
					<field class="Name" name="name" />
					<field class="java.lang.String" name="lastName" />
				</path>
      </source>
    </assignable>
    <assignable handle="sysout">
      <sink>
        <parameter class="java.io.PrintStream" method="println(java.lang.String)" parameter="1" />
      </sink>
    </assignable>
  </interfacespec>

  <domains>
    <domain name="low" />
    <domain name="high" />
  </domains>

  <flowrelation>
    <flow from="low" to="high" />
  </flowrelation>

  <domainassignment>
    <assign handle="NameFirstName" domain="low" />
    <assign handle="NameLastName" domain="low" />
    <assign handle="FormDataName" domain="high" />
    <assign handle="FormDataCCNr" domain="high" />
    <assign handle="FormDataValid" domain="low" />
    <assign handle="parameter" domain="low" />
    <assign handle="first_name" domain="high" />
    <assign handle="last_name" domain="high" />
    <assign handle="sysout" domain="low" />
  </domainassignment>

  <hatches>
    <hatch to="low">
      <expression>
        data.creditCardNr % 10000
      </expression>
      <referencepoint class="FormServlet" method="receiveData(FormData)" label="L1" />
    </hatch>
  </hatches>
</riflspec>
