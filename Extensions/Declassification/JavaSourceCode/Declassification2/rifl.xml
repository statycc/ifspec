<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE riflspec SYSTEM "../rifl-JavaSourceCode-1.1.dtd">
<riflspec>
  <interfacespec>
    <assignable handle="parameter">
        <source>
            <parameter class="Declassification1" method="onLocationChanged(Location)" parameter="1" />
        </source>
    </assignable>
    <assignable handle="parameterField">
			<category name="paramterfields">      
			    <source>
            <path>
              <parameter class="Declassification1" method="onLocationChanged(Location)" parameter="1" />
					    <field class="Location" name="longitude" />
            </path>
          </source>
      </category>
    </assignable>
	<assignable handle="loc">
		    <category name="loc-fields">
                <source>
				    <field class="Location" name="longitude" />
                </source>
                <source>
				    <field class="Location" name="latitude" />
                </source>
		    </category>
    </assignable>
    <assignable handle="sysout">
        <category name="sysoutcalls">
        <sink>
            <parameter class="java.io.PrintStream" method="println(java.lang.String)" parameter="1" />
        </sink>
        </category>
    </assignable>
  </interfacespec>
	
  <domains>
    <domain name="low" />
    <domain name="high" />
  </domains>

  <flowrelation>
    <flow from="low" to="high" />
  </flowrelation>

  <domainassignment>
    <assign handle="sysout" domain="low" />
    <assign handle="parameter" domain="low" />
		<assign handle="loc" domain="low" />
    <assign handle="parameterField" domain="high" />
  </domainassignment>

  <hatches>
    <hatch to="low">
      <expression>
        <![CDATA[
	  Math.abs(eiffel.latitude-lat) <= 0.1 && Math.abs(eiffel.longitude-lon) <= 0.1
        ]]>
      </expression>
      <referencepoint class="Declassification1" method="onLocationChanged(Location)" label="L1" />
    </hatch>
  </hatches>
</riflspec>
